(window.webpackJsonp=window.webpackJsonp||[]).push([[165],{398:function(s,n,a){"use strict";a.r(n);var e=a(0),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"docker数据管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker数据管理"}},[s._v("#")]),s._v(" Docker数据管理")]),s._v(" "),a("p",[s._v("学习内容：")]),s._v(" "),a("ol",[a("li",[s._v("如何在容器内创建数据卷")]),s._v(" "),a("li",[s._v("如何把本机的目录或文件挂载到容器内的数据卷中")])]),s._v(" "),a("p",[s._v("数据卷是一个可供容器使用的特殊目录，它将主机操作系统目录直接映射到容器，类似于linux的挂载操作。\n一个 data volume 是容器中绕过 union 文件系统的一个特定的目录。被设计用来保存数据，而不管容器的生命周期。因此，当你删除一个容器时，docker 不会自动地删除一个volume。")]),s._v(" "),a("h2",{attrs:{id:"容器中数据管理的两种方式："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#容器中数据管理的两种方式："}},[s._v("#")]),s._v(" 容器中数据管理的两种方式：")]),s._v(" "),a("ul",[a("li",[a("ol",[a("li",[s._v("数据卷（Data Volumes）： 容器内容数据直接映射到本地主机环境")])])]),s._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[s._v("数据卷容器（Data Volumes）: 使用特定的容器维护数据卷")])])])]),s._v(" "),a("h2",{attrs:{id:"_1-创建容器数据卷"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建容器数据卷"}},[s._v("#")]),s._v(" 1. 创建容器数据卷")]),s._v(" "),a("h3",{attrs:{id:"容器数据卷操作命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#容器数据卷操作命令"}},[s._v("#")]),s._v(" 容器数据卷操作命令")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Usage:  docker volume COMMAND\nCommands:\n  create      Create a volume \n  inspect     Display detailed information on one or "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" volumes\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("          List volumes\n  prune       Remove all unused "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" volumes\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v("          Remove one or "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" volumes\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h3",{attrs:{id:"示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[s._v("#")]),s._v(" \b示例")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker volume create nginx-test\ndocker run -d -it --name=nginx-test -p88:80 -mount src=nginx-volume, dst=/usr/share/nginx/html nignx\n\ndocker run -it -v 宿主机的绝对路径目录：容器绝对路径目录 \bIMAGESID\nsudo docker run -d -it --name=nginx2 -p89:80 -v /Users/alanwen/www:/usr/share/nginx/html centos\n\n// docker run -d -v /Users/alanwen/www:/var/www/html -p 9000:9000 --link cyt_mysql:mysql --name cyt_phpfpm php:7.2-fpm \n\ndocker run -d -p 88:80 --name cyt_nginx -v /Users/alanwen/www:/var/www/html --link cyt_phpfpm:phpfpm --name cyt_nginx nginx:1.12.2\n\n\n// 进入容器\ndocker exec -it CONTAINERID /bin/bash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("blockquote",[a("p",[s._v("问题：挂载目录必须在在当前用户所在文件目录下，否则挂载失败，原因未明")])]),s._v(" "),a("h2",{attrs:{id:"数据卷容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据卷容器"}},[s._v("#")]),s._v(" 数据卷容器")]),s._v(" "),a("p",[s._v("数据卷容器，其实就是一个正常的容器，专门用来提供数据卷供其它容器挂载的。")])])}),[],!1,null,null,null);n.default=t.exports}}]);